# 순서

1. Resource API
   - 검증 끝나면 종료
   - 경량 버전도 제공해주기 (팀원들을 위해서)
     - ResourceManagerLite
     - ResourceLite
     - Resources는 타입분기로 분기처리
2. Scene API
   - Editor::ProjectManager <- 이것도 같이 구상
3. Render API
4. 에디터 어플리케이션 + IMGUI
5. 플레이어







## ScreenManager

- 엔진이 사용중인 화면 핸들에 대한 정보를 담은 객체 (정적임)
- 즉 실제 윈도우 핸들이 아닌 엔진이 개념적으로 인식하고 있는 윈도우 핸들임
- 후술할 Application에서 Screen의 정보를 실제 윈도우 핸들과 동기화해주는 로직이 필요함.



## SceneRef

- 슬롯 맵을 사용한 핸들
- slot idx, slot gen 으로 SceneManager의 Scene Table에 접근하여 기능을 쓸 수 있음







## SceneManager

- 





## Serializable Event

- 이름 뜻대로 직렬화 가능한 이벤트
- 델리게이트인데 저장/불러오기 가능함
- 함수는 RTTR을 이용한 런타임 이름찾기로, 호출자 참조는 GUID로 복원
- Fast Delegate 내부구현을 감쌈
- 람다는 절대 등록할 수 없음 (람다가 필요하면 기존 델리게이트를 사용할 것)





# 에디터 진입점 예상

```c++
#pragma once
#include <Windows.h>
#include <string>

#include "Delegates.hpp"

namespace MMMEngine::Utility
{
	/// <summary>
	/// 윈도우 하나의 대한 핸들과 루프를 제공합니다.
	/// </summary>
	class App
	{
	public:
		struct WindowInfo
		{
			LPCWSTR title;
			LONG width;
			LONG height;
			LONG style;
		};

		App();
		~App();

		int Run();
		void Quit();

		Event<App, void(void)> OnIntialize{ this };
		Event<App, void(void)> OnShutdown{ this };
		Event<App, void(void)> OnUpdate{ this };
		Event<App, void(void)> OnRender{ this };
		Event<App, void(int,int)> OnResize{ this };

		void SetProcessHandle(HINSTANCE hinstance);
		WindowInfo GetWindowInfo();
		HWND GetWindowHandle();
	protected:
		LRESULT HandleWindowMessage(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam);
	private:
		bool m_isRunning;
		WindowInfo m_windowInfo;
		
		HINSTANCE m_hInstance;
		HWND m_hWnd;

		bool m_needResizeWindow;

		bool CreateMainWindow();
		static LRESULT CALLBACK WindowProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam);
	};
}
------------------------------------------------------------------------------
// 에디터의 진입점
#include "App.h"
#include "GlobalRegistry.h"

void InitEditor()
{
	InputManager::Get().StartUp(MMMEngine::g_pApp->GetWindowHandle());
	//매니저 준비 코드
	//Imgui 준비 코드
}
void RenderEditor()
{
	//Imgui 창 생성 코드
	//렌더매니저 호출 코드
}

main()
{
	App app;
	MMMEngine::g_pApp = &app;

	app.SetProcessHandle(GetModuleHandle(NULL)); //winmain으로 진입하는 경우 hIntance물려주기
	app.OnInitialize.AddListener<&InitEditor>();
	app.OnRender.AddListener<&RenderEditor>();
	app.Run();
}
```

